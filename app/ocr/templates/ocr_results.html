{% extends "base.html"%}
{% block content %}
<div class="row">
    <div class="col-xl">
        <h1>PDF Viewer</h1>
        <embed src="{{rel_filepath}}" width="100%" height="700px" />
    </div>

    <div class="col-xl">
        <h1>OCR</h1>
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="editSwitch" />
            <label class="form-check-label" for="editSwitch">Edit OCR Text</label>
        </div>
        <form method=post>
            {{ form.hidden_tag() }}
            {{ form.ocr_text() }}
            {{form.submit}}
        </form>
    </div>
</div>

<script>
    // Disable by default textarea
    $("#ocr_text").prop("readonly", true);
    // Edit textare state based on checkbox state
    $(function () {
        $('#editSwitch').change(function () {
            if ($(this).prop('checked') === true) {
                $("#ocr_text").prop("readonly", false);
            }
            else if ($(this).prop('checked') === false) {
                $("#ocr_text").prop("readonly", true);
            }
        })
    })
</script>
{% endblock %}